gather_intelligence:
  description: >
    Scrape the 10 most recent tweets from the configured list of target independent media X accounts.
    Extract the full text, url, metrics, and any attached media (videos/images).
    Return a list of all raw tweets with their media links.
  expected_output: >
    A list of JSON objects representing the scraped tweets.
  agent: intelligence_agent

curate_top_story:
  description: >
    Take the raw list of tweets from the Intelligence Agent. 
    Score each one out of 10. Give 10s to concrete infrastructure failures (bridge collapses, train derailments), massive paper leaks, or financial scams.
    Give 1s to regular political rallies or generic "party A attacked party B" tweets.
    Pick the single highest scoring tweet. Extract the 'headline', 'key_fact', 'primary_politician_involved'.
  expected_output: >
    A JSON object containing the winning story data, the headline, key_fact, url, and primary_politician_involved.
  agent: editor_in_chief_agent

fetch_forensic_media:
  description: >
    Take the 'primary_politician_involved' and the context from the Curator.
    Use web search tools to find either a high-res Wikipedia photo of the politician or an official graph/document related to the subject.
    Download it and save the local path. If none found or not needed, return None. 
  expected_output: >
    A local file path string to the downloaded supplementary media, or an empty string.
  agent: media_forensics_agent

deep_dive_research_task:
  description: >
    Take the facts extracted by the Editor-in-Chief. Using the Perplexity Deep Research tool, run an extensive background check on the situation. Look for the history of the project, previous contractor failures, related political statements, and similar past incidents.
  expected_output: >
    A detailed research briefing containing historical context, names, and related failures to empower the framing strategy.
  agent: deep_researcher_agent

develop_framing_strategy_task:
  description: >
    Read the original news facts and the extensive Deep Research briefing. Develop the "Desi Angle". Identify the specific hypocrisy (e.g., tax burden vs infrastructure quality, VIP culture vs common man suffering). Outline the exact narrative structure the Ghostwriter should follow.
  expected_output: >
    A strategic narrative outline detailing the Desi framing angle, the specific hypocrisy to highlight, and the key facts to emphasize.
  agent: framing_strategist_agent

write_thread_draft:
  description: >
    Using the Strategic Outline from the Framer, write the "Sawaal Karo" long-form draft.
    Adopt the "Weary Insider" persona with "Desi" sarcasm. No emojis. Just facts, dry sarcasm, and a demand for accountability at the end.
    CRITICAL: Consolidate your entire argument into a highly concentrated format. Do not ramble.
    CRITICAL: You MUST format the output line-by-line. NO PARAGRAPHS ALLOWED. Every distinct thought or fact must be written as a single sentence, separated by a blank line. Make it detailed but punchy.
    CRITICAL: ABSOLUTELY NO HASHTAGS. Do not include any hashtags (#) in the entire draft.
    CRITICAL: Launch directly into the critique with a serious tone. DO NOT start the draft with "Picture this", "Imagine this", "Let's talk about", or any other narrative storytelling intro.
  expected_output: >
    A single long string of the finalized drafted text, strictly formatted line-by-line without standard paragraphs.
  agent: ghostwriter_agent

split_into_thread:
  description: >
    Take the long draft from the Ghostwriter. Split it logically into a sequence of tweets.
    CRITICAL: X/Twitter now supports long-form text (up to 4000 characters). You MUST consolidate the draft into 1 to 3 LONG-FORM tweets maximum. DO NOT create a 10+ tweet thread.
    Each tweet should be a substantial block of text (multiple single-sentence lines).
    Return strictly a list of strings within the JSON object.
  expected_output: >
    A valid JSON object containing exactly two keys: "tweets" which maps to a list of strings representing the thread, and "media_path" which maps to the local path of the downloaded forensic image (or empty string if none). Example: {"tweets": ["tweet 1", "tweet 2"], "media_path": "path/image.jpg"}
  agent: thread_architect_agent
